webpackJsonp([4],{"1k3v":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mvHQ"),o=a.n(n),s=a("mtWM"),i=a.n(s),c={name:"Xiugaimima",data:function(){return{detial:{},radio:"1",phone:"",pw:"",repw:"",code:"",sccode:"",savebtn:!1}},methods:{onClickLeft:function(){this.$router.go(-1)},phonevif:function(){0==this.phone.length?this.$toast("请输入手机号"):/^1[3456789]\d{9}$/.test(this.phone)||(this.$toast("手机号格式不正确,请重新输入"),this.phone="")},getcode:function(){var t=this;""==this.phone?this.$toast("请输入手机号"):i()({url:"http://10.8.157.25:8080/isExist",params:{phone:this.phone}}).then(function(e){if(1==e.data.code){var a=parseInt(1e5*(9*Math.random()+1));t.sccode=a,t.$notify({message:a,duration:3e3,background:"#1989fa"}),t.$store.commit("loginm",{id:e.data.data.id,name:e.data.data.account})}else t.$toast("该手机号还未注册！请先注册"),t.active=0})},qrmm:function(){this.pw!==this.repw&&(this.$toast("两次输入的密码不一致，请重新输入"),this.pw="",this.repw="")},codevif:function(){this.code!=this.sccode&&(this.$toast("验证码输入错误,请重新获取或重新输入"),this.vifcode="")},save:function(){var t=this;""==this.pw||""==this.repw||""==this.code||""==this.phone?(this.savebtn=!1,this.$toast("请按要求输入信息")):i()({url:"http://10.8.157.25:8080/updatePassword",params:{password:this.pw,phone:this.phone}}).then(function(e){if(1==e.data.code){t.$store.commit("loginm",{id:e.data.data.id,name:e.data.data.account});var a={name:e.data.data.account,id:e.data.data.id,password:t.pw};localStorage.setItem("token",o()(a)),t.$router.push("/login")}else t.$toast("修改失败")})}},mounted:function(){}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("van-nav-bar",{attrs:{"fixed:true":"","left-arrow":"",title:"修改密码"},on:{"click-left":t.onClickLeft}}),t._v(" "),a("van-cell-group",{staticStyle:{margin:"30px 0"}},[a("p",[t._v("手机号")]),t._v(" "),a("van-field",{staticClass:"inpt",attrs:{center:"",clearable:"",placeholder:"请输入手机号",autofocus:""},on:{change:t.phonevif},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}},[a("van-button",{staticStyle:{border:"0"},attrs:{slot:"button",size:"small"},on:{click:t.getcode},slot:"button"},[t._v("获取验证码")])],1),t._v(" "),a("p",[t._v("验证码")]),t._v(" "),a("van-field",{staticClass:"inpt",attrs:{placeholder:"请输入验证码"},on:{change:t.codevif},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t._v(" "),a("p",[t._v("新密码")]),t._v(" "),a("van-field",{staticClass:"inpt",attrs:{placeholder:"请输入新密码"},model:{value:t.pw,callback:function(e){t.pw=e},expression:"pw"}}),t._v(" "),a("p",[t._v("再次输入新密码")]),t._v(" "),a("van-field",{staticClass:"inpt",attrs:{placeholder:"再次确认密码"},on:{blur:t.qrmm},model:{value:t.repw,callback:function(e){t.repw=e},expression:"repw"}})],1),t._v(" "),a("van-row",[a("van-col",{attrs:{span:"16",offset:"4"}},[a("van-button",{staticStyle:{"border-radius":"10px",width:"100%","font-size":"16px"},attrs:{type:"primary",size:"small",disabled:t.savebtn},on:{click:t.save}},[t._v("保存|登录")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(c,r,!1,function(t){a("nBq2")},"data-v-3864fe3d",null);e.default=l.exports},mvHQ:function(t,e,a){t.exports={default:a("qkKv"),__esModule:!0}},nBq2:function(t,e){},qkKv:function(t,e,a){var n=a("FeBl"),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}}});
//# sourceMappingURL=4.89c1e0c625e933b40f0f.js.map