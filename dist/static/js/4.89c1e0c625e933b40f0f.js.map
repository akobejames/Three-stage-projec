{"version":3,"sources":["webpack:///src/views/Xiugaimima.vue","webpack:///./src/views/Xiugaimima.vue?13e8","webpack:///./src/views/Xiugaimima.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["Xiugaimima","name","data","detial","radio","phone","pw","repw","code","sccode","savebtn","methods","onClickLeft","this","$router","go","phonevif","length","$toast","test","getcode","_this","axios_default","url","params","then","parseInt","Math","random","$notify","message","duration","background","$store","commit","id","account","active","qrmm","codevif","vifcode","save","_this2","password","token","localStorage","setItem","stringify_default","push","mounted","views_Xiugaimima","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","fixed:true","left-arrow","title","on","click-left","_v","staticStyle","margin","center","clearable","placeholder","autofocus","change","model","value","callback","$$v","expression","border","slot","size","click","blur","span","offset","border-radius","width","font-size","type","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","core","$JSON","JSON","stringify","it","apply","arguments"],"mappings":"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","file":"static/js/4.89c1e0c625e933b40f0f.js","sourcesContent":["<!--\r\n * @Description: \r\n * @Author: 陈佳\r\n * @Date: 2019-07-23 09:30:23\r\n * @LastEditTime: 2019-07-24 10:51:10\r\n * @LastEditors: 陈佳\r\n -->\r\n<template>\r\n  <div class=\"box\">\r\n    <van-nav-bar fixed:true left-arrow @click-left=\"onClickLeft\" title=\"修改密码\" />\r\n    <van-cell-group style=\"margin:30px 0\">\r\n      <p>手机号</p>\r\n      <van-field\r\n        class=\"inpt\"\r\n        v-model=\"phone\"\r\n        center\r\n        clearable\r\n        placeholder=\"请输入手机号\"\r\n        @change=\"phonevif\"\r\n        autofocus\r\n      >\r\n        <van-button slot=\"button\" size=\"small\" style=\"border:0\" @click=\"getcode\">获取验证码</van-button>\r\n      </van-field>\r\n      <p>验证码</p>\r\n      <van-field class=\"inpt\" v-model=\"code\" placeholder=\"请输入验证码\" @change=\"codevif\" />\r\n      <p>新密码</p>\r\n      <van-field class=\"inpt\" v-model=\"pw\" placeholder=\"请输入新密码\" />\r\n      <p>再次输入新密码</p>\r\n      <van-field class=\"inpt\" v-model=\"repw\" placeholder=\"再次确认密码\" @blur=\"qrmm\" />\r\n    </van-cell-group>\r\n    <van-row>\r\n      <van-col span=\"16\" offset=\"4\">\r\n        <van-button\r\n          type=\"primary\"\r\n          style=\"border-radius:10px;width:100%;font-size:16px\"\r\n          size=\"small\"\r\n          @click=\"save\"\r\n          :disabled=\"savebtn\"\r\n        >保存|登录</van-button>\r\n      </van-col>\r\n    </van-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"Xiugaimima\",\r\n\r\n  data() {\r\n    return {\r\n      detial: {},\r\n      radio: \"1\",\r\n      phone: \"\",\r\n      pw: \"\",\r\n      repw: \"\",\r\n      code: \"\",\r\n      sccode: \"\",\r\n      savebtn: false\r\n    };\r\n  },\r\n  methods: {\r\n    //返回上一页\r\n    onClickLeft() {\r\n      this.$router.go(-1);\r\n    },\r\n    //手机号格式验证\r\n    phonevif() {\r\n      if (this.phone.length == 0) {\r\n        this.$toast(\"请输入手机号\");\r\n      } else {\r\n        if (!/^1[3456789]\\d{9}$/.test(this.phone)) {\r\n          this.$toast(\"手机号格式不正确,请重新输入\");\r\n          this.phone = \"\";\r\n        }\r\n      }\r\n    },\r\n    //获取验证码\r\n    getcode() {\r\n      if (this.phone == \"\") {\r\n        this.$toast(\"请输入手机号\");\r\n      } else {\r\n        axios({\r\n          url: \"http://10.8.157.25:8080/isExist\", //验证手机号是否存在\r\n          params: {\r\n            phone: this.phone\r\n          }\r\n        }).then(data => {\r\n          if (data.data.code == 1) {\r\n            var code = parseInt((Math.random() * 9 + 1) * 100000);\r\n            this.sccode = code;\r\n            this.$notify({\r\n              message: code,\r\n              duration: 3000,\r\n              background: \"#1989fa\"\r\n            });\r\n            this.$store.commit(\"loginm\", {\r\n              id: data.data.data.id,\r\n              name: data.data.data.account\r\n            });\r\n          } else {\r\n            this.$toast(\"该手机号还未注册！请先注册\");\r\n            this.active = 0;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    //确认密码\r\n    qrmm() {\r\n      if (this.pw !== this.repw) {\r\n        this.$toast(\"两次输入的密码不一致，请重新输入\");\r\n        (this.pw = \"\"), (this.repw = \"\");\r\n      }\r\n    },\r\n    //验证码验证\r\n    codevif() {\r\n      if (this.code != this.sccode) {\r\n        this.$toast(\"验证码输入错误,请重新获取或重新输入\");\r\n        this.vifcode = \"\";\r\n      }\r\n    },\r\n    save() {\r\n      if (\r\n        this.pw == \"\" ||\r\n        this.repw == \"\" ||\r\n        this.code == \"\" ||\r\n        this.phone == \"\"\r\n      ) {\r\n        this.savebtn = false;\r\n        this.$toast(\"请按要求输入信息\");\r\n      } else {\r\n        axios({\r\n          url: \"http://10.8.157.25:8080/updatePassword\",\r\n          params: {\r\n            password: this.pw,\r\n            phone: this.phone\r\n          }\r\n        }).then(data => {\r\n          if (data.data.code == 1) {\r\n            this.$store.commit(\"loginm\", {\r\n              id: data.data.data.id,\r\n              name: data.data.data.account\r\n            });\r\n            var token = {\r\n              name: data.data.data.account,\r\n              id: data.data.data.id,\r\n              password:this.pw\r\n            };\r\n            localStorage.setItem(\"token\", JSON.stringify(token));\r\n            this.$router.push(\"/login\");\r\n          } else {\r\n            this.$toast(\"修改失败\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {}\r\n};\r\n</script>\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.box {\r\n  height: 600px;\r\n  position: relative;\r\n}\r\n.inpt {\r\n  border: 1px solid #cecece;\r\n  border-radius: 10px;\r\n  margin: 10px;\r\n  width: 94%;\r\n  height: 40px;\r\n  line-height: 28px;\r\n  padding: 6px;\r\n}\r\np {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-size: 12px;\r\n  margin-left: 16px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Xiugaimima.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('van-nav-bar',{attrs:{\"fixed:true\":\"\",\"left-arrow\":\"\",\"title\":\"修改密码\"},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),_c('van-cell-group',{staticStyle:{\"margin\":\"30px 0\"}},[_c('p',[_vm._v(\"手机号\")]),_vm._v(\" \"),_c('van-field',{staticClass:\"inpt\",attrs:{\"center\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入手机号\",\"autofocus\":\"\"},on:{\"change\":_vm.phonevif},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}},[_c('van-button',{staticStyle:{\"border\":\"0\"},attrs:{\"slot\":\"button\",\"size\":\"small\"},on:{\"click\":_vm.getcode},slot:\"button\"},[_vm._v(\"获取验证码\")])],1),_vm._v(\" \"),_c('p',[_vm._v(\"验证码\")]),_vm._v(\" \"),_c('van-field',{staticClass:\"inpt\",attrs:{\"placeholder\":\"请输入验证码\"},on:{\"change\":_vm.codevif},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"新密码\")]),_vm._v(\" \"),_c('van-field',{staticClass:\"inpt\",attrs:{\"placeholder\":\"请输入新密码\"},model:{value:(_vm.pw),callback:function ($$v) {_vm.pw=$$v},expression:\"pw\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"再次输入新密码\")]),_vm._v(\" \"),_c('van-field',{staticClass:\"inpt\",attrs:{\"placeholder\":\"再次确认密码\"},on:{\"blur\":_vm.qrmm},model:{value:(_vm.repw),callback:function ($$v) {_vm.repw=$$v},expression:\"repw\"}})],1),_vm._v(\" \"),_c('van-row',[_c('van-col',{attrs:{\"span\":\"16\",\"offset\":\"4\"}},[_c('van-button',{staticStyle:{\"border-radius\":\"10px\",\"width\":\"100%\",\"font-size\":\"16px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.savebtn},on:{\"click\":_vm.save}},[_vm._v(\"保存|登录\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3864fe3d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Xiugaimima.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3864fe3d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Xiugaimima.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Xiugaimima.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Xiugaimima.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3864fe3d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Xiugaimima.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3864fe3d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Xiugaimima.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 3 4","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 3 4"],"sourceRoot":""}