webpackJsonp([25],{POfm:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),n=i.n(a),o=i("bOdI"),s=i.n(o),l=i("mtWM"),u=i.n(l),r=i("NYxO"),c={name:"",props:[""],data:function(){var t;return t={value:"",value1:0,value2:"a",value3:"A",value4:"0-a",option1:[{text:"位置区域",value:0},{text:"北京",value:1},{text:"上海",value:2},{text:"郑州",value:3},{text:"杭州",value:4},{text:"广州",value:5},{text:"贵州",value:6}],option2:[{text:"价格/星级",value:"a"},{text:"价格升序",value:"b"},{text:"价格降序",value:"c"}],option3:[{text:"智能排序",value:"A"},{text:"销量排序",value:"B"}],option4:[{text:"筛选",value:"0-a"},{text:"折扣",value:"0-b"}],loading:!1,finished:!0,list:[],count:4,isLoading:!1},s()(t,"loading",!1),s()(t,"finished",!1),t},components:{},computed:{},beforeCreate:function(){var t=this;u()({url:"http://106.13.26.54:8080/selectHomestayAll"}).then(function(e){t.list=e.data.slice(0,4),console.log(t.list)})},beforeMount:function(){},mounted:function(){},methods:n()({},Object(r.b)(["loginm"]),{detail:function(t){console.log(t.id),this.$store.commit("detailIds",{id:t.id}),this.$router.push("/hoteldetail")},init:function(){var t=this;u()({url:"http://106.13.26.54:8080/selectHomestayAll"}).then(function(e){t.list=e.data.slice(0,t.count),console.log(t.list)})},onRefresh:function(){var t=this;setTimeout(function(){t.$toast("刷新成功"),t.isLoading=!1,t.count++,t.init()},500)},onClickLeft:function(){this.$router.push("/homestay")},search:function(t){console.log(this.list);var e=[];return this.list.forEach(function(i){-1==i.name.indexOf(t)&&-1==i.address.indexOf(t)||e.push(i)}),e},getcity:function(){0===this.value1?this.value="":this.value=this.option1[this.value1].text},sortprice:function(){"b"===this.value2?this.list.sort(this.compare("price")):"c"===this.value2?this.list.sort(this.compare1("price")):this.list.sort(this.compare("id"))},sortnum:function(){"B"===this.value3?this.list.sort(this.compare1("num")):"A"===this.value3&&this.list.sort(this.compare("id"))},discount:function(){"0-a"===this.value4?this.list.sort(this.compare("id")):"0-b"===this.value4&&this.list.sort(this.compare("dis"))},compare:function(t){return function(e,i){return e[t]-i[t]}},compare1:function(t){return function(e,i){var a=e[t];return i[t]-a}}}),watch:{}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"zkh-homepec"},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-row",[i("van-col",{attrs:{span:"2"}},[i("van-nav-bar",{staticStyle:{background:"#fff"},attrs:{"left-arrow":""},on:{"click-left":t.onClickLeft}})],1),t._v(" "),i("van-col",{staticClass:"zkh-sou",attrs:{span:"18",offset:"2"}},[i("van-search",{staticStyle:{margin:"0","background-color":"#fff"},attrs:{placeholder:"搜索 酒店/地名/关键词",shape:"round","left-icon":""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1),t._v(" "),i("van-dropdown-menu",{attrs:{id:"zkh-nav"}},[i("van-dropdown-item",{attrs:{options:t.option1},on:{change:t.getcity},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t._v(" "),i("van-dropdown-item",{attrs:{options:t.option2},on:{change:t.sortprice},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}),t._v(" "),i("van-dropdown-item",{attrs:{options:t.option3},on:{change:t.sortnum},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}}),t._v(" "),i("van-dropdown-item",{attrs:{options:t.option4},on:{change:t.discount},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}})],1),t._v(" "),i("div",{attrs:{id:"zkh-inner"}},[i("ul",{staticClass:"zkh-li"},t._l(t.search(t.value),function(e,a){return i("li",{key:a,staticClass:"zkh-listouter"},[i("van-image",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.detail,id:e.id},expression:"{methods:detail,id:item.id}"}],staticClass:"zkh-imgs",attrs:{src:e.img,fit:"cover"}}),t._v(" "),i("div",{staticClass:"zkh-listinner"},[i("p",[t._v(t._s(e.name))]),t._v(" "),i("p",[t._v(t._s(e.num)+"人")]),t._v(" "),i("p",[t._v(t._s(e.address))]),t._v(" "),i("p",[i("span",[t._v(t._s(e.price)+"元")]),t._v(" "),i("span",[t._v(t._s(e.dis.toFixed(2))+"折")])])])],1)}),0)])],1)],1)},staticRenderFns:[]};var d=i("VU/8")(c,v,!1,function(t){i("vP7B")},"data-v-6904b09c",null);e.default=d.exports},vP7B:function(t,e){}});
//# sourceMappingURL=25.c5b16d7bf098352c4c4e.js.map